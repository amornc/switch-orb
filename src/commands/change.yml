description: >
  This command will separate repository name (circleci , githubactions) from your repositories-name file files and generate 2 files (circleci-repositories.yaml and github-actions-repositories.yaml).
parameters:
  sep:
    type: string
    default: "repositories.yaml"
    description: "separate repository name"
  dir:
    type: string
    default: "."
    description: Select the path to clone into. By default the current path will be selected, which is dictated by the job's "working_directory".
  file1:
    type: string
    default: "github-actions-repositories.yaml"
    description: "github-actions-repositories.yaml file from step separate "
  file2:
    type: string
    default: "circleci-repositories.yaml"
    description: "circleci-repositories.yaml file from step separate "
environment:
  PARAM_SEP: <<parameters.sep>>
  PARAM_DIR: <<parameters.dir>>
  PARAM_FI1: <<parameters.file1>>
  PARAM_FI2: <<parameters.file2>> 
steps:
  - run:
      name: separate repository name
      command: <<include(scripts/sep.sh)>>
  - run:
      name: Check duplicate repository name
      command: <<include(scripts/dup.sh)>>
  - run:
      name: check repository name match with project name
      command: <<include(scripts/match.sh)>>
